<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Budget App by Shahul</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: #f7f9fc;
      color: #333;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* Header & Navigation */
    header {
      background: linear-gradient(135deg, #6200ee 0%, #7e3ff2 100%);
      color: white;
      padding: 15px 0;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-size: 24px;
      font-weight: bold;
      display: flex;
      align-items: center;
    }
    
    .logo i {
      margin-right: 10px;
      font-size: 28px;
    }
    
    .nav-links {
      display: flex;
      list-style: none;
    }
    
    .nav-links li {
      margin-left: 25px;
    }
    
    .nav-links a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s;
      padding: 8px 12px;
      border-radius: 5px;
    }
    
    .nav-links a:hover, .nav-links a.active {
      background: rgba(255, 255, 255, 0.2);
    }
    
    /* Dashboard Layout */
    .dashboard {
      padding: 30px 0;
    }
    
    .welcome-banner {
      background: linear-gradient(135deg, #6200ee 0%, #7e3ff2 100%);
      color: white;
      padding: 25px;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 5px 15px rgba(98, 0, 238, 0.2);
    }
    
    .welcome-banner h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }
    
    .dashboard-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px;
    }
    
    @media (max-width: 900px) {
      .dashboard-grid {
        grid-template-columns: 1fr;
      }
    }
    
    .card {
      background: white;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }
    
    .card-title {
      font-size: 20px;
      color: #6200ee;
      font-weight: 600;
    }
    
    .card-actions button {
      background: #6200ee;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.3s;
    }
    
    .card-actions button:hover {
      background: #7e3ff2;
    }
    
    /* Summary Cards */
    .summary-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .summary-card {
      background: white;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      display: flex;
      align-items: center;
    }
    
    .summary-icon {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      font-size: 24px;
    }
    
    .income-icon {
      background: rgba(76, 175, 80, 0.2);
      color: #4CAF50;
    }
    
    .expense-icon {
      background: rgba(244, 67, 54, 0.2);
      color: #F44336;
    }
    
    .balance-icon {
      background: rgba(33, 150, 243, 0.2);
      color: #2196F3;
    }
    
    .summary-details h3 {
      font-size: 24px;
      margin-bottom: 5px;
    }
    
    .summary-details p {
      color: #777;
    }
    
    /* Transactions */
    .transactions-list {
      max-height: 400px;
      overflow-y: auto;
    }
    
    .transaction-item {
      display: flex;
      justify-content: space-between;
      padding: 15px 0;
      border-bottom: 1px solid #eee;
    }
    
    .transaction-item:last-child {
      border-bottom: none;
    }
    
    .transaction-info {
      display: flex;
      align-items: center;
    }
    
    .transaction-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      font-size: 16px;
    }
    
    .transaction-details h4 {
      margin-bottom: 5px;
    }
    
    .transaction-details p {
      font-size: 14px;
      color: #777;
    }
    
    .transaction-amount {
      font-weight: 600;
    }
    
    .income {
      color: #4CAF50;
    }
    
    .expense {
      color: #F44336;
    }
    
    /* Charts */
    .chart-container {
      position: relative;
      height: 300px;
      width: 100%;
    }
    
    /* Reminders */
    .reminder-item {
      display: flex;
      justify-content: space-between;
      padding: 15px 0;
      border-bottom: 1px solid #eee;
    }
    
    .reminder-item:last-child {
      border-bottom: none;
    }
    
    .reminder-info {
      display: flex;
      align-items: center;
    }
    
    .reminder-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      background: rgba(255, 152, 0, 0.2);
      color: #FF9800;
    }
    
    .reminder-details h4 {
      margin-bottom: 5px;
    }
    
    .reminder-details p {
      font-size: 14px;
      color: #777;
    }
    
    .reminder-date {
      font-weight: 600;
      color: #FF9800;
    }
    
    /* Forms */
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .form-group input, .form-group select {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    
    @media (max-width: 600px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }
    
    /* Footer */
    footer {
      background: #6200ee;
      color: white;
      text-align: center;
      padding: 40px 0;
      margin-top: 50px;
    }
    
    .footer-content {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .social-links {
      display: flex;
      gap: 20px;
      margin: 20px 0;
    }
    
    .social-links a {
      color: white;
      font-size: 20px;
      transition: transform 0.3s;
    }
    
    .social-links a:hover {
      transform: translateY(-3px);
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        text-align: center;
      }
      
      .nav-links {
        margin-top: 20px;
        justify-content: center;
      }
      
      .nav-links li {
        margin: 0 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Header & Navigation -->
  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <i class="fas fa-wallet"></i>
          <span>BudgetApp</span>
        </div>
        <ul class="nav-links">
          <li><a href="home.html">Home</a></li>
          <li><a href="#" class="active">Dashboard</a></li>
          <li><a href="#logout" id="logoutBtn">Logout</a></li>
        </ul>
      </div>
    </div>
  </header>

  <!-- Dashboard Content -->
  <section class="dashboard">
    <div class="container">
      <!-- Welcome Banner -->
      <div class="welcome-banner">
        <h1>Welcome back, <span id="userName">User</span>!</h1>
        <p>Here's your financial overview for <span id="currentDate"></span></p>
      </div>
      
      <!-- Summary Cards -->
      <div class="summary-cards">
        <div class="summary-card">
          <div class="summary-icon income-icon">
            <i class="fas fa-money-bill-wave"></i>
          </div>
          <div class="summary-details">
            <h3 id="totalIncome">$0.00</h3>
            <p>Total Income</p>
          </div>
        </div>
        
        <div class="summary-card">
          <div class="summary-icon expense-icon">
            <i class="fas fa-receipt"></i>
          </div>
          <div class="summary-details">
            <h3 id="totalExpenses">$0.00</h3>
            <p>Total Expenses</p>
          </div>
        </div>
        
        <div class="summary-card">
          <div class="summary-icon balance-icon">
            <i class="fas fa-piggy-bank"></i>
          </div>
          <div class="summary-details">
            <h3 id="currentBalance">$0.00</h3>
            <p>Current Balance</p>
          </div>
        </div>
      </div>
      
      <!-- Dashboard Grid -->
      <div class="dashboard-grid">
        <!-- Left Column -->
        <div class="left-column">
          <!-- Add Transaction Card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">Add Transaction</h2>
            </div>
            <form id="transactionForm">
              <div class="form-group">
                <label for="transactionType">Type</label>
                <select id="transactionType" required>
                  <option value="income">Income</option>
                  <option value="expense">Expense</option>
                </select>
              </div>
              
              <div class="form-group">
                <label for="transactionAmount">Amount</label>
                <input type="number" id="transactionAmount" placeholder="0.00" step="0.01" required>
              </div>
              
              <div class="form-group">
                <label for="transactionCategory">Category</label>
                <select id="transactionCategory" required>
                  <option value="">Select a category</option>
                  <optgroup label="Income">
                    <option value="salary">Salary</option>
                    <option value="freelance">Freelance</option>
                    <option value="investment">Investment</option>
                    <option value="gift">Gift</option>
                    <option value="other-income">Other</option>
                  </optgroup>
                  <optgroup label="Expenses">
                    <option value="housing">Housing</option>
                    <option value="utilities">Utilities</option>
                    <option value="food">Food</option>
                    <option value="transportation">Transportation</option>
                    <option value="entertainment">Entertainment</option>
                    <option value="healthcare">Healthcare</option>
                    <option value="other-expense">Other</option>
                  </optgroup>
                </select>
              </div>
              
              <div class="form-group">
                <label for="transactionDescription">Description</label>
                <input type="text" id="transactionDescription" placeholder="Short description" required>
              </div>
              
              <div class="form-group">
                <label for="transactionDate">Date</label>
                <input type="date" id="transactionDate" required>
              </div>
              
              <button type="submit" class="btn">Add Transaction</button>
            </form>
          </div>
          
          <!-- Recent Transactions Card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">Recent Transactions</h2>
              <div class="card-actions">
                <button id="viewAllTransactions">View All</button>
              </div>
            </div>
            <div class="transactions-list" id="transactionsList">
              <!-- Transactions will be added here dynamically -->
            </div>
          </div>
        </div>
        
        <!-- Right Column -->
        <div class="right-column">
          <!-- Expense Chart Card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">Expense Breakdown</h2>
            </div>
            <div class="chart-container">
              <canvas id="expenseChart"></canvas>
            </div>
          </div>
          
          <!-- Income vs Expense Card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">Income vs Expenses</h2>
            </div>
            <div class="chart-container">
              <canvas id="incomeExpenseChart"></canvas>
            </div>
          </div>
          
          <!-- Upcoming Reminders Card -->
          <div class="card">
            <div class="card-header">
              <h2 class="card-title">Upcoming Reminders</h2>
              <div class="card-actions">
                <button id="addReminderBtn">Add New</button>
              </div>
            </div>
            <div class="reminders-list" id="remindersList">
              <!-- Reminders will be added here dynamically -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="logo">
          <i class="fas fa-wallet"></i>
          <span>BudgetApp</span>
        </div>
        
        <div class="social-links">
          <a href="#"><i class="fab fa-facebook"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-linkedin"></i></a>
        </div>
        
        <p>Made by Shahul • 2025 © Budget App</p>
      </div>
    </div>
  </footer>

  <script>
    // Initialize the dashboard with sample data
    document.addEventListener('DOMContentLoaded', function() {
      // Set current date
      const now = new Date();
      document.getElementById('currentDate').textContent = now.toLocaleDateString('en-US', { 
        month: 'long', 
        year: 'numeric' 
      });
      
      // Set username from localStorage if available
      const userName = localStorage.getItem('userName') || 'User';
      document.getElementById('userName').textContent = userName;
      
      // Set default transaction date to today
      document.getElementById('transactionDate').valueAsDate = now;
      
      // Load sample data
      loadSampleData();
      renderCharts();
      
      // Add event listeners
      document.getElementById('transactionForm').addEventListener('submit', addTransaction);
      document.getElementById('logoutBtn').addEventListener('click', logout);
      document.getElementById('addReminderBtn').addEventListener('click', addSampleReminder);
      document.getElementById('viewAllTransactions').addEventListener('click', function() {
        alert('View all transactions feature would open a detailed view.');
      });
    });
    
    // Sample data for demonstration
    function loadSampleData() {
      // Sample transactions
      const transactions = [
        { 
          type: 'income', 
          amount: 2500, 
          category: 'salary', 
          description: 'Monthly Salary', 
          date: '2025-09-01' 
        },
        { 
          type: 'expense', 
          amount: 1200, 
          category: 'housing', 
          description: 'Rent Payment', 
          date: '2025-09-03' 
        },
        { 
          type: 'expense', 
          amount: 150, 
          category: 'utilities', 
          description: 'Electricity Bill', 
          date: '2025-09-05' 
        },
        { 
          type: 'expense', 
          amount: 300, 
          category: 'food', 
          description: 'Groceries', 
          date: '2025-09-07' 
        },
        { 
          type: 'income', 
          amount: 500, 
          category: 'freelance', 
          description: 'Freelance Project', 
          date: '2025-09-10' 
        }
      ];
      
      // Sample reminders
      const reminders = [
        {
          title: 'Internet Bill',
          date: '2025-09-15',
          amount: 75,
          description: 'Monthly internet bill payment'
        },
        {
          title: 'Credit Card Payment',
          date: '2025-09-20',
          amount: 200,
          description: 'Minimum payment due'
        }
      ];
      
      // Store data in localStorage if not already present
      if (!localStorage.getItem('transactions')) {
        localStorage.setItem('transactions', JSON.stringify(transactions));
      }
      
      if (!localStorage.getItem('reminders')) {
        localStorage.setItem('reminders', JSON.stringify(reminders));
      }
      
      // Render the data
      renderTransactions();
      renderReminders();
      updateSummary();
    }
    
    // Render transactions list
    function renderTransactions() {
      const transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
      const transactionsList = document.getElementById('transactionsList');
      
      // Clear existing content
      transactionsList.innerHTML = '';
      
      // Add transactions to the list (show only last 5)
      const recentTransactions = transactions.slice(-5);
      
      if (recentTransactions.length === 0) {
        transactionsList.innerHTML = '<p class="no-data">No transactions yet</p>';
        return;
      }
      
      recentTransactions.forEach(transaction => {
        const transactionItem = document.createElement('div');
        transactionItem.className = 'transaction-item';
        
        const iconClass = transaction.type === 'income' ? 'income-icon' : 'expense-icon';
        const icon = transaction.type === 'income' ? 'fa-arrow-down' : 'fa-arrow-up';
        const amountClass = transaction.type === 'income' ? 'income' : 'expense';
        
        transactionItem.innerHTML = `
          <div class="transaction-info">
            <div class="transaction-icon ${iconClass}">
              <i class="fas ${icon}"></i>
            </div>
            <div class="transaction-details">
              <h4>${transaction.description}</h4>
              <p>${formatCategory(transaction.category)} • ${formatDate(transaction.date)}</p>
            </div>
          </div>
          <div class="transaction-amount ${amountClass}">
            ${transaction.type === 'income' ? '+' : '-'}$${transaction.amount.toFixed(2)}
          </div>
        `;
        
        transactionsList.appendChild(transactionItem);
      });
    }
    
    // Render reminders list
    function renderReminders() {
      const reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
      const remindersList = document.getElementById('remindersList');
      
      // Clear existing content
      remindersList.innerHTML = '';
      
      if (reminders.length === 0) {
        remindersList.innerHTML = '<p class="no-data">No reminders set</p>';
        return;
      }
      
      reminders.forEach(reminder => {
        const reminderItem = document.createElement('div');
        reminderItem.className = 'reminder-item';
        
        reminderItem.innerHTML = `
          <div class="reminder-info">
            <div class="reminder-icon">
              <i class="fas fa-bell"></i>
            </div>
            <div class="reminder-details">
              <h4>${reminder.title}</h4>
              <p>${reminder.description}</p>
            </div>
          </div>
          <div class="reminder-date">
            $${reminder.amount.toFixed(2)}<br>
            <small>${formatDate(reminder.date)}</small>
          </div>
        `;
        
        remindersList.appendChild(reminderItem);
      });
    }
    
    // Update summary cards
    function updateSummary() {
      const transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
      
      let totalIncome = 0;
      let totalExpenses = 0;
      
      transactions.forEach(transaction => {
        if (transaction.type === 'income') {
          totalIncome += transaction.amount;
        } else {
          totalExpenses += transaction.amount;
        }
      });
      
      const balance = totalIncome - totalExpenses;
      
      document.getElementById('totalIncome').textContent = `$${totalIncome.toFixed(2)}`;
      document.getElementById('totalExpenses').textContent = `$${totalExpenses.toFixed(2)}`;
      document.getElementById('currentBalance').textContent = `$${balance.toFixed(2)}`;
    }
    
    // Render charts
    function renderCharts() {
      const transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
      
      // Prepare data for expense breakdown chart
      const expenses = transactions.filter(t => t.type === 'expense');
      const expenseCategories = {};
      
      expenses.forEach(expense => {
        if (expenseCategories[expense.category]) {
          expenseCategories[expense.category] += expense.amount;
        } else {
          expenseCategories[expense.category] = expense.amount;
        }
      });
      
      // Expense breakdown chart
      const expenseCtx = document.getElementById('expenseChart').getContext('2d');
      new Chart(expenseCtx, {
        type: 'doughnut',
        data: {
          labels: Object.keys(expenseCategories).map(formatCategory),
          datasets: [{
            data: Object.values(expenseCategories),
            backgroundColor: [
              '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', 
              '#9966FF', '#FF9F40', '#FF6384', '#C9CBCF'
            ]
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'bottom'
            }
          }
        }
      });
      
      // Prepare data for income vs expense chart
      const monthlyData = {};
      
      transactions.forEach(transaction => {
        const month = transaction.date.substring(0, 7); // YYYY-MM
        
        if (!monthlyData[month]) {
          monthlyData[month] = { income: 0, expense: 0 };
        }
        
        if (transaction.type === 'income') {
          monthlyData[month].income += transaction.amount;
        } else {
          monthlyData[month].expense += transaction.amount;
        }
      });
      
      const months = Object.keys(monthlyData).sort();
      const incomeData = months.map(month => monthlyData[month].income);
      const expenseData = months.map(month => monthlyData[month].expense);
      
      // Income vs expense chart
      const incomeExpenseCtx = document.getElementById('incomeExpenseChart').getContext('2d');
      new Chart(incomeExpenseCtx, {
        type: 'bar',
        data: {
          labels: months.map(month => formatMonth(month)),
          datasets: [
            {
              label: 'Income',
              data: incomeData,
              backgroundColor: '#4CAF50'
            },
            {
              label: 'Expenses',
              data: expenseData,
              backgroundColor: '#F44336'
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              stacked: false
            },
            y: {
              beginAtZero: true
            }
          }
        }
      });
    }
    
    // Add new transaction
    function addTransaction(e) {
      e.preventDefault();
      
      const type = document.getElementById('transactionType').value;
      const amount = parseFloat(document.getElementById('transactionAmount').value);
      const category = document.getElementById('transactionCategory').value;
      const description = document.getElementById('transactionDescription').value;
      const date = document.getElementById('transactionDate').value;
      
      if (!category) {
        alert('Please select a category');
        return;
      }
      
      const transaction = {
        type,
        amount,
        category,
        description,
        date
      };
      
      // Get existing transactions and add new one
      const transactions = JSON.parse(localStorage.getItem('transactions') || '[]');
      transactions.push(transaction);
      localStorage.setItem('transactions', JSON.stringify(transactions));
      
      // Update UI
      renderTransactions();
      renderCharts();
      updateSummary();
      
      // Reset form
      document.getElementById('transactionForm').reset();
      document.getElementById('transactionDate').valueAsDate = new Date();
      
      alert('Transaction added successfully!');
    }
    
    // Add sample reminder
    function addSampleReminder() {
      const reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
      
      // Create a sample reminder for next month
      const nextMonth = new Date();
      nextMonth.setMonth(nextMonth.getMonth() + 1);
      
      const reminder = {
        title: 'Sample Reminder',
        date: nextMonth.toISOString().split('T')[0],
        amount: 100,
        description: 'This is a sample reminder'
      };
      
      reminders.push(reminder);
      localStorage.setItem('reminders', JSON.stringify(reminders));
      
      renderReminders();
      alert('Reminder added successfully!');
    }
    
    // Logout function
    function logout() {
      localStorage.removeItem('uid');
      localStorage.removeItem('userName');
      window.location.href = 'home.html';
    }
    
    // Helper functions
    function formatCategory(category) {
      const categoryMap = {
        'salary': 'Salary',
        'freelance': 'Freelance',
        'investment': 'Investment',
        'gift': 'Gift',
        'other-income': 'Other Income',
        'housing': 'Housing',
        'utilities': 'Utilities',
        'food': 'Food',
        'transportation': 'Transportation',
        'entertainment': 'Entertainment',
        'healthcare': 'Healthcare',
        'other-expense': 'Other Expense'
      };
      
      return categoryMap[category] || category;
    }
    
    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('en-US', { 
        month: 'short', 
        day: 'numeric' 
      });
    }
    
    function formatMonth(monthString) {
      const date = new Date(monthString + '-01');
      return date.toLocaleDateString('en-US', { 
        month: 'short', 
        year: 'numeric' 
      });
    }
  </script>
</body>
</html>